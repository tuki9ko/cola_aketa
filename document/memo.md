# 設計メモ

## 定義

### ロール

|id|名前|説明|
|:--|:--|:--|
|1|admin|管理者|
|2|user|ユーザー|

- admin ⊂ user

### メーカー

|id|名前|
|:--|:--|
|1|コカ・コーラ|
|2|ペプシコ|

### 容器

|id|名前|
|:--|:--|
|1|ペットボトル|
|2|ペットボトル(ラベルレス)|
|3|缶ボトル|
|4|缶|
|5|瓶|

### コーラの種類

|id|メーカー|名前|種別|量|カロリー|
|:--|:--|:--|:--|:--|:--|
|1|1|コカ・コーラ|1|2000|900|
|2|1|コカ・コーラ|1|1500|675|
|3|1|コカ・コーラ|1|1000|450|
|4|1|コカ・コーラ|1|700|315|
|5|1|コカ・コーラ|1|500|225|
|6|1|コカ・コーラ|1|350|157.5|
|7|1|コカ・コーラ|2|350|157.5|
|8|1|コカ・コーラ|1|300|135|
|9|1|コカ・コーラ|1|280|126|
|10|1|コカ・コーラ|5|190|85.5|
|11|2|ペプシコーラ|1|1500|720|
|12|2|ペプシコーラ|1|600|288|
|13|2|ペプシコーラ|1|490|235.2|

*とりあえずオリジナル・ペット/瓶のみ


## 機能

### ユーザ

|機能名|ロール|範囲|説明|エンドポイント候補|
|:--|:--|:--|:--|:--|
|新規登録|!user|本人|ユーザの新規登録|POST /api/v1/user|
|プロフィール閲覧|user|全員|ユーザのプロフィール閲覧|GET /api/v1/user/:id|
|プロフィール編集|user|本人|ユーザのプロフィール編集|POST /api/v1/user/:id|
|退会|user, admin|本人, 全員|ユーザの退会|DELETE /api/v1/user/:id|
|ユーザ一覧表示|admin|全員|ユーザの一覧表示|GET /api/v1/users|

### 飲用状況

|機能名|ロール|範囲|説明|エンドポイント候補|
|:--|:--|:--|:--|:--|
|コーラ実績報告|user|全員|コーラを飲んだことを登録|POST /api/v1/cola|
|コーラ実績閲覧|user|全員|コーラを飲んだ実績詳細表示|GET /api/v1/cola/:id|
|コーラ実績編集|user|本人|コーラを飲んだ実績編集|POST /api/v1/cola/:id|
|コーラ実績削除|user|本人|コーラを飲んだ実績削除|DELETE /api/v1/cola/:id|
|全コーラ実績|user|全員|コーラを飲んだ実績のサマリ|GET /api/v1/colas|
|ユーザのコーラ実績|user|全員|ユーザごとのコーラを飲んだ実績|GET /api/v1/user/colas|

## 各機能のメモ

### プロフィール

- アイコン
- bio
- フォローフォロワー？

### 実績

- コーラの種類
- 時間
- コメント

